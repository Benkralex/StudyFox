<!--"mark", "small", "ins", "sub", "sup", "br", "table", "thead", "tbody", "tfoot", "td", "th", "blockquote", "h3", "h4", "h5", "h6", "hr", "code", "pre"-->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>StudyFox | Verwaltung</title>
    <style>
        #editor {
            min-height: 300px;
            border: 1px solid #ced4da;
            padding: 10px;
            background-color: white;
        }
    </style>
  {% include 'navbar.html' %}
  <div class="container mt-5">
    <h1>Neues Thema erstellen</h1>

    <div class="btn-toolbar mb-2" role="toolbar">
        <div class="btn-group me-2">
            <button class="btn btn-outline-primary" onclick="execCmd('bold')">Bold</button>
            <button class="btn btn-outline-primary" onclick="execCmd('italic')">Italic</button>
            <button class="btn btn-outline-primary" onclick="execCmd('underline')">Underline</button>
            <button class="btn btn-outline-primary" onclick="execCmd('strikeThrough')">Strike</button>
        </div>
        <div class="btn-group me-2">
            <button class="btn btn-outline-success" onclick="execCmd('insertUnorderedList')">UL</button>
            <button class="btn btn-outline-success" onclick="execCmd('insertOrderedList')">OL</button>
        </div>
        <div class="btn-group me-2">
            <button class="btn btn-outline-info" onclick="execCmd('insertParagraph')">Paragraph</button>
            <button class="btn btn-outline-info" onclick="execCmd('formatBlock', 'h1')">H1</button>
            <button class="btn btn-outline-info" onclick="execCmd('formatBlock', 'h2')">H2</button>
        </div>
        <div class="btn-group me-2">
            <button class="btn btn-outline-dark" onclick="execCmd('createLink')">Link</button>
            <button class="btn btn-outline-dark" onclick="execCmd('insertImage')">Image</button>
        </div>
    </div>

    <div id="editor" contenteditable="true" class="form-control">
        Fange hier an zu schreiben...
    </div>
    <br>
    <form action="/administration/topics/new" method="post">
        <label for="title">Title</label>
        <input name="title" id="title" class="form-control" required>
        <input type="hidden" name="content" id="content" class="form-control" required>
        <label for="subject">Fach</label>
        <select name="subject" id="subject" class="form-control">
            {% for subject in subjects %}
              <option value="{{subject.id}}">{{subject.name}}</option>
            {% endfor %}
        </select>
        <button class="btn btn-primary mt-2" type="submit">Thema erstellen</button>
    </form>
</div>
    <script>
        function execCmd(command, value = null) {
            if (command === 'createLink') {
                value = prompt('Enter the link URL:', 'https://');
            } else if (command === 'insertImage') {
                value = prompt('Enter the image URL:', 'https://');
                if (value) {
                    const alt = prompt('Enter alt text:', '');
                    const width = prompt('Enter width (optional):', '');
                    const height = prompt('Enter height (optional):', '');
                    value = `${value}" alt="${alt}" ${width ? 'width="' + width + '"' : ''} ${height ? 'height="' + height + '"' : ''}`;
                    command = 'insertHTML';
                    value = `<img src="${value}"/>`;
                }
            }
            document.execCommand(command, false, value);
            document.getElementById("content").value = document.getElementById("editor").innerHTML
        }
        document.getElementById("editor").addEventListener("input", function() {
            document.getElementById("content").value = document.getElementById("editor").innerHTML
        });
        document.getElementById("content").value = document.getElementById("editor").innerHTML
    </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</body>
</html>
